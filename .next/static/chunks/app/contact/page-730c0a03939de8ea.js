(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{2030:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>u});var t=s(5155),r=s(2115),l=s(5695),n=s(2177),c=s(221),i=s(3582),m=s(7340),o=s(9946);let p=(0,o.A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),h=(0,o.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var d=s(9869),x=s(1154),j=s(2486);let y=e=>{let{type:a,label:s,icon:r,activeTab:l,onTabChange:n}=e;return(0,t.jsxs)("button",{type:"button",onClick:()=>n(a),className:"flex items-center gap-2 px-4 py-2 rounded-md transition-colors\n      ".concat(l===a?"bg-primary text-white shadow":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(r,{size:20}),s]})};function u(){let e=(0,l.useSearchParams)().get("type")||"consultation",[a,s]=(0,r.useState)(e),[o,u]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[b,N]=(0,r.useState)(null),{register:v,handleSubmit:k,formState:{errors:w},reset:F,watch:M,setValue:P}=(0,n.mN)({resolver:(0,c.u)(i.q)}),T=M("attachment");(0,r.useEffect)(()=>{s(e),F(),N(null)},[e,F]);let S=e=>{s(e)},z=async e=>{if(u(!0),N(null),e.attachment){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(e.attachment.type)){N("PDF、JPG、PNGファイルのみアップロード可能です"),u(!1);return}if(e.attachment.size>5242880){N("ファイルサイズは5MB以下にしてください"),u(!1);return}}try{let s=new FormData;s.append("type",a),s.append("data",JSON.stringify({...e,attachment:void 0})),e.attachment&&s.append("attachment",e.attachment);let t=await fetch("/api/contact",{method:"POST",body:s});if(!t.ok){let e=await t.json();throw Error(e.error||"フォーム送信に失敗しました。")}g(!0),F()}catch(e){alert(e.message||"送信中にエラーが発生しました。")}finally{u(!1)}};return(0,t.jsx)("section",{className:"section-padding bg-gray-50",children:(0,t.jsxs)("div",{className:"container-custom max-w-3xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-900 text-center mb-10",children:"お問い合わせ"}),(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[(0,t.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[(0,t.jsx)(y,{type:"consultation",label:"開業相談",icon:m.A,activeTab:a,onTabChange:S}),(0,t.jsx)(y,{type:"management",label:"運営受託",icon:p,activeTab:a,onTabChange:S}),(0,t.jsx)(y,{type:"career",label:"採用エントリー",icon:h,activeTab:a,onTabChange:S})]}),f?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 text-primary rounded-full mb-4",children:(0,t.jsx)(j.A,{className:"w-8 h-8"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"お問い合わせを受け付けました"}),(0,t.jsx)("p",{className:"text-gray-600",children:"お問い合わせいただきありがとうございます。内容を確認の上、担当者よりご連絡いたします。"})]}):(0,t.jsxs)("form",{onSubmit:k(z),className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"name",className:"form-label",children:["お名前 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{...v("name"),type:"text",id:"name",className:"form-input"}),w.name&&(0,t.jsx)("p",{className:"form-error",children:w.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"form-label",children:["メールアドレス ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{...v("email"),type:"email",id:"email",className:"form-input"}),w.email&&(0,t.jsx)("p",{className:"form-error",children:w.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"tel",className:"form-label",children:"電話番号 (任意)"}),(0,t.jsx)("input",{...v("tel"),type:"tel",id:"tel",className:"form-input"}),w.tel&&(0,t.jsx)("p",{className:"form-error",children:w.tel.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"company",className:"form-label",children:"会社名 / 団体名 (任意)"}),(0,t.jsx)("input",{...v("company"),type:"text",id:"company",className:"form-input"}),w.company&&(0,t.jsx)("p",{className:"form-error",children:w.company.message})]}),("consultation"===a||"management"===a)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"propertyLocation",className:"form-label",children:"物件所在地 (任意)"}),(0,t.jsx)("input",{...v("propertyLocation"),type:"text",id:"propertyLocation",className:"form-input"}),w.propertyLocation&&(0,t.jsx)("p",{className:"form-error",children:w.propertyLocation.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"form-label",children:"物件種別 (複数選択可、任意)"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",value:"villa",...v("propertyType"),className:"form-checkbox"}),"ヴィラ"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",value:"condo",...v("propertyType"),className:"form-checkbox"}),"マンション/コンドミニアム"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",value:"house",...v("propertyType"),className:"form-checkbox"}),"一戸建て"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",value:"other",...v("propertyType"),className:"form-checkbox"}),"その他"]})]}),w.propertyType&&(0,t.jsx)("p",{className:"form-error",children:w.propertyType.message})]})]}),"career"===a&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:"採用に関するお問い合わせは、採用エントリーフォームをご利用ください。"}),(0,t.jsxs)("a",{href:"/careers",className:"btn-primary btn-md inline-flex items-center gap-2",children:[(0,t.jsx)(h,{size:20}),"採用エントリーフォームへ"]})]}),("consultation"===a||"management"===a)&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"message",className:"form-label",children:["ご相談内容 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("textarea",{...v("message"),id:"message",rows:5,className:"form-textarea"}),w.message&&(0,t.jsx)("p",{className:"form-error",children:w.message.message})]}),("consultation"===a||"management"===a)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"attachment",className:"form-label",children:"添付ファイル (任意, PDF/JPG/PNG, 5MBまで)"}),(0,t.jsx)("input",{type:"file",id:"attachment",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",onChange:e=>{e.target.files&&e.target.files.length>0?P("attachment",e.target.files[0]):P("attachment",void 0),N(null)}}),(0,t.jsxs)("label",{htmlFor:"attachment",className:"w-full flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-md cursor-pointer hover:border-primary transition-colors",children:[(0,t.jsx)(d.A,{size:20,className:"mr-2 text-primary"}),T&&T instanceof File?T.name:"ファイルを選択してください"]}),b&&(0,t.jsx)("p",{className:"form-error",children:b}),w.attachment&&(0,t.jsx)("p",{className:"form-error",children:w.attachment.message})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"submit",disabled:o,className:"btn-primary btn-lg inline-flex items-center gap-2 disabled:opacity-50",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{size:20,className:"animate-spin"}),"送信中..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{size:20}),"送信する"]})})}),(0,t.jsx)("p",{className:"text-center text-sm text-gray-600 mt-4",children:"※ご入力いただいた情報は、お問い合わせ内容の確認およびご返信にのみ使用いたします。"})]})]})]})})}},3582:(e,a,s)=>{"use strict";s.d(a,{G:()=>l,q:()=>r});var t=s(927);let r=t.Ik({name:t.Yj().min(1,"名前を入力してください"),email:t.Yj().email("有効なメールアドレスを入力してください"),phone:t.Yj().optional(),company:t.Yj().optional(),message:t.Yj().min(10,"メッセージは10文字以上で入力してください"),type:t.k5(["consultation","download","career"])}),l=t.Ik({name:t.Yj().min(1,"名前を入力してください"),email:t.Yj().email("有効なメールアドレスを入力してください"),phone:t.Yj().optional(),resume:t.bz().optional(),message:t.Yj().optional()})},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},7340:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},9270:(e,a,s)=>{Promise.resolve().then(s.bind(s,2030))}},e=>{e.O(0,[799,441,964,358],()=>e(e.s=9270)),_N_E=e.O()}]);